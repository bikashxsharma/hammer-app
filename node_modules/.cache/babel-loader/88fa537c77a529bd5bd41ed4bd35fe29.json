{"ast":null,"code":"import dummyData from '../questionPosts_db'; // checking if the localstorage has some value\n\nconst getInitialDataFromStorage = () => JSON.parse(window.localStorage.getItem('dummyPosts')); // store data to local storage only if local storage is empty\n\n\nif (getInitialDataFromStorage() == null) {\n  const setDataToStorage = items => window.localStorage.setItem('dummyPosts', JSON.stringify(items));\n\n  setDataToStorage(dummyData);\n} // get data from storage \n\n\nconst getDataFromStorage = () => JSON.parse(window.localStorage.getItem('dummyPosts'));\n\nconst initState = {\n  posts: getDataFromStorage()\n};\n\nconst postsReducer = (state = initState, action) => {\n  switch (action.type) {\n    case \"NEWPOST\":\n      let newPosts = state.posts;\n      const postObj = {\n        \"image\": \"https://randomuser.me/api/portraits/women/70.jpg\",\n        \"userName\": \"New user\",\n        \"postedTime\": \"a few seconds ago\",\n        \"texts\": action.payload,\n        \"hammerCount\": \"0\"\n      };\n      newPosts.push(postObj);\n      window.localStorage.setItem('dummyPosts', JSON.stringify(newPosts));\n      return state = {\n        posts: getDataFromStorage()\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default postsReducer;","map":{"version":3,"sources":["F:/Programming/hammer-app/src/reducers/postsReducer.js"],"names":["dummyData","getInitialDataFromStorage","JSON","parse","window","localStorage","getItem","setDataToStorage","items","setItem","stringify","getDataFromStorage","initState","posts","postsReducer","state","action","type","newPosts","postObj","payload","push"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,qBAAtB,C,CAGA;;AACA,MAAMC,yBAAyB,GAAG,MAAMC,IAAI,CAACC,KAAL,CACpCC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CADoC,CAAxC,C,CAIA;;;AAEA,IAAIL,yBAAyB,MAAM,IAAnC,EAAyC;AACrC,QAAMM,gBAAgB,GAAIC,KAAD,IAAWJ,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,YAA5B,EAA0CP,IAAI,CAACQ,SAAL,CAAeF,KAAf,CAA1C,CAApC;;AACAD,EAAAA,gBAAgB,CAACP,SAAD,CAAhB;AACH,C,CAGD;;;AACA,MAAMW,kBAAkB,GAAG,MAAMT,IAAI,CAACC,KAAL,CAC7BC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAD6B,CAAjC;;AAKA,MAAMM,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAEF,kBAAkB;AADX,CAAlB;;AAKA,MAAMG,YAAY,GAAG,CAACC,KAAK,GAAGH,SAAT,EAAoBI,MAApB,KAA+B;AAChD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,SAAL;AAEI,UAAIC,QAAQ,GAAGH,KAAK,CAACF,KAArB;AACA,YAAMM,OAAO,GAAG;AACZ,iBAAS,kDADG;AAEZ,oBAAY,UAFA;AAGZ,sBAAc,mBAHF;AAIZ,iBAASH,MAAM,CAACI,OAJJ;AAKZ,uBAAe;AALH,OAAhB;AAQAF,MAAAA,QAAQ,CAACG,IAAT,CAAcF,OAAd;AACAf,MAAAA,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,YAA5B,EAA0CP,IAAI,CAACQ,SAAL,CAAeQ,QAAf,CAA1C;AACA,aAAOH,KAAK,GAAG;AACXF,QAAAA,KAAK,EAAEF,kBAAkB;AADd,OAAf;;AAKJ;AACI,aAAOI,KAAP;AApBR;AA0BH,CA3BD;;AA6BA,eAAeD,YAAf","sourcesContent":["import dummyData from '../questionPosts_db';\r\n\r\n\r\n// checking if the localstorage has some value\r\nconst getInitialDataFromStorage = () => JSON.parse(\r\n    window.localStorage.getItem('dummyPosts')\r\n);\r\n\r\n// store data to local storage only if local storage is empty\r\n\r\nif (getInitialDataFromStorage() == null) {\r\n    const setDataToStorage = (items) => window.localStorage.setItem('dummyPosts', JSON.stringify(items));\r\n    setDataToStorage(dummyData);\r\n}\r\n\r\n\r\n// get data from storage \r\nconst getDataFromStorage = () => JSON.parse(\r\n    window.localStorage.getItem('dummyPosts')\r\n);\r\n\r\n\r\nconst initState = {\r\n    posts: getDataFromStorage()\r\n\r\n}\r\n\r\nconst postsReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case \"NEWPOST\":\r\n\r\n            let newPosts = state.posts\r\n            const postObj = {\r\n                \"image\": \"https://randomuser.me/api/portraits/women/70.jpg\",\r\n                \"userName\": \"New user\",\r\n                \"postedTime\": \"a few seconds ago\",\r\n                \"texts\": action.payload,\r\n                \"hammerCount\": \"0\"\r\n\r\n            }\r\n            newPosts.push(postObj)\r\n            window.localStorage.setItem('dummyPosts', JSON.stringify(newPosts));\r\n            return state = {\r\n                posts: getDataFromStorage()\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default postsReducer;"]},"metadata":{},"sourceType":"module"}